DSEG	SEGMENT	 	
DATA	DW	100 DUP(?)	
TEMP	DW	20 DUP(?)	
SPSP	DW	?	
RESULT	DW	?	
STR1	DB	50 DUP('$')	
CINDATA	DW	0	
DSEG	ENDS	 	
SSEG	SEGMENT	STACK	
STK	DW	50 DUP(0)	
SSEG	ENDS	 	
CSEG	SEGMENT		
	ASSUME	CS:CSEG,DS:DSEG,SS:SSEG,ES:DSEG	
DATBIN	PROC		
XOR	CX,	CX	
MOV	BX,	10	
LOOOP2:			
MOV	AL,	[SI]	
CMP	AL,	'$'	
JZ	RETURN		
SUB	AL,	'0'	
XOR	AH,	AH	
PUSH	AX		
MOV	AX,	CX	
MUL	BX		
MOV	CX,	AX	
POP	AX		
ADD	CX,	AX	
INC	SI		
JMP	LOOOP2		
RETURN :			
MOV	CINDATA,	CX	
RET			
DATBIN	ENDP		
INPUT	PROC;		
MOV	DI,	OFFSET STR1	
LOOOP1 :			
MOV	AH,	01H	
INT	21H		
CMP	AL,	13	
JZ	CONTI		
MOV	[DI],	AL	
INC	DI		
JMP	LOOOP1		
CONTI :			
MOV	SI,	OFFSET STR1	
CALL	DATBIN		
MOV	DI,	OFFSET DATA	
MOV	SI,	OFFSET TEMP	
RET			
INPUT	ENDP		
OUTPUT	PROC		
XOR	DX,	DX	
XOR	CX,	CX	
MOV	AX,	RESULT	
MOV	BX,	0AH	
OP1:			
DIV	BX		
INC	CL		
ADD	DX,	30H	
PUSH	DX		
XOR	DX,	DX	
CMP	AX,	0AH	
JNL	OP1		
MOV	DL,	AL	
ADD	DL,	30H	
MOV	AH,	02H	
INT	21H		
OP2:			
POP	DX		
INT	21H		
SUB	CL,	1	
CMP	CL,	0	
JNZ	OP2		
RETU:	RET		
OUTPUT	ENDP		
max	PROC		
POP	AX		
MOV	SPSP,	AX	
POP	DX		
MOV	[SI+0],	DX	
POP	DX		
MOV	[SI+2],	DX	
MOV	[SI+2],	DX	
MOV	DX,	[SI+0]	
MOV	RESULT,	DX	
MOV	AX,	SPSP	
PUSH	AX		
RET			
max	ENDP		
main	PROC		
START:			
MOV	AX,	DSEG	
MOV	DS,	AX	
MOV	ES,	AX	
MOV	AX,	SSEG	
MOV	SS,	AX	
MOV	SP,	SIZE STK	
MOV	DI,	OFFSET DATA	
MOV	SI,	OFFSET TEMP	
MOV	DX,	4	
MOV	[DI+0],	DX	
MOV	DX,	5	
MOV	[DI+2],	DX	
MOV	DX,	6	
MOV	[DI+4],	DX	
MOV	DX,	[DI+4]	
PUSH	DX		
MOV	DX,	[DI+0]	
PUSH	DX		
CALL	max		
MOV	DX,	RESULT	
MOV	[DI+6],	DX	
MOV	DX,	[DI+2]	
PUSH	DX		
MOV	DX,	[DI+0]	
PUSH	DX		
CALL	max		
MOV	DX,	RESULT	
MOV	[DI+6],	DX	
MOV	DX,	[DI+6]	
MOV	[DI+0],	DX	
main	ENDP		
MOV	AH,	4CH	
INT	21H		
CSEG	ENDS	 	
	END	START	
