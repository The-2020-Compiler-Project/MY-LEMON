# 编译原理第二次过程报告

上一周我把我的优化部分基本完成，这一周我的工作有：

（1）合并所有人的代码，对接每个模块之间的接口，使之成为一个完整的项目；

（2）测试并且修改我的优化模块，使其更加健壮。

##### 1.合并代码

​        合并代码的过程真的是非常麻烦，虽然我们在写各自模块的时候已经分好了接口，但是我对前端的各种函数并不是非常了解，而且还会出现同一作用的变量，名字不一样的情况，所以我就跟小组成员一个一个的对接，询问他们关于他们代码的问题，比如你的程序哪个是需要被主函数调用的，哪个变量是后面的模块要用的等等，最后经过一天多的合并研究，最终得到了一个完整的项目keshe1.0，接下来就是测试能不能很好地运行。

##### 2.修改我的模块的bug

###### 2.1错删四元式

```c
int a=3,b=2;
a = max(a,b);
```

如果如图所示的代码的话，返回值给a赋值，就会删掉a=3的赋值四元式，所以我对此进行了修改，当是一个函数的返回值对a赋值，且a所在结点的主标记为数字，则不删。

###### 2.2函数返回值重复

```c
a=max(a,b);
b=max(a,c);
```

因为四元式是（=，max，，a）（=，max，，b）所以用DAG图输出的时候，就会一起输出，所以我先进行四元式预处理，把这两个max标为max0，max1，这样就不会建一个结点，而是两个，所以输出会按次序进行，最后对新四元式进行后处理把0,1删去。